<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Método Bates — Miopía y Hipermetropía (Proyecto)</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent:#2b9aa3;
      --accent-dark:#227f86;
      --bg-overlay:rgba(255,255,255,0.86);
      --text:#0f1724;
      --muted:#475569;
      --card-radius:18px;
      --shadow:0 10px 30px rgba(15,23,36,0.12);
      --max-width:1100px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Poppins',system-ui;
      color:var(--text);
      background:#f7fafc;
      line-height:1.45;
    }

    .hero {
      min-height:56vh;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      color:white;
      background-image:url('https://uploads.onecompiler.io/43cd3qnf4/444fy7enn/PaisajeOnecpler.jpeg');
      background-size:cover;
      background-position:center;
      background-attachment: fixed;
      overflow:hidden;
    }
    .hero::after{
      content:''; position:absolute; inset:0;
      background:linear-gradient(180deg, rgba(11,33,37,0.45), rgba(11,33,37,0.25));
    }

    .hero-inner{
      position:relative; z-index:2; text-align:center;
      max-width:900px; padding:42px 20px;
    }
    .logo{
      background:rgba(255,255,255,0.12);
      padding:10px 14px; border-radius:14px;
      font-weight:700; margin-bottom:14px;
    }

    h1.hero-title{font-size:2.2rem;margin:10px 0 8px}

    .navbar{
      position:sticky; top:12px; margin:18px auto;
      padding:8px 16px; border-radius:28px;
      background:rgba(255,255,255,0.8);
      width:fit-content; display:flex;
      box-shadow:0 6px 18px rgba(2,6,23,0.06);
    }
    .nav-links{display:flex; gap:8px; list-style:none; padding:0; margin:0;}
    .nav-links a{
      color:var(--accent-dark);
      text-decoration:none; padding:8px 12px;
      border-radius:12px; font-weight:600;
    }

    .container{
      max-width:var(--max-width);
      margin:-48px auto 48px;
      padding:24px;
    }

    .section{
      background:var(--bg-overlay);
      border-radius:var(--card-radius);
      padding:22px; margin-bottom:20px;
      box-shadow:var(--shadow);
    }
    .section h2{color:var(--accent); margin-top:0}

    .cards{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:18px;
    }

    .card-ex{
      background:white; border-radius:14px;
      padding:14px; text-align:center;
      box-shadow:0 8px 20px rgba(2,6,23,0.06);
    }
    .card-ex img{
      width:100%; height:200px;
      object-fit:cover; border-radius:10px;
    }

    /* Result image demo style */
    .result-img{
      width:100%;
      max-width:700px;
      margin:12px auto 0;
      display:block;
      border-radius:12px;
      box-shadow:0 8px 28px rgba(2,6,23,0.12);
    }

    .controls{display:flex; gap:8px; justify-content:center; flex-wrap:wrap}
    .btn{
      background:var(--accent);
      color:white; padding:8px 12px;
      border-radius:10px; border:0; cursor:pointer;
      font-weight:600;
    }
    .btn.secondary{
      background:#e6f6f6; color:var(--accent-dark);
    }
    input[type=number]{
      width:90px; padding:8px;
      border-radius:8px; border:1px solid #ddd;
      text-align:center;
    }

    /* Slider controls */
    .slider-row{display:flex;flex-direction:column;gap:8px;align-items:center;margin-top:10px}
    .slider-row input[type="range"]{width:100%;max-width:600px}

    footer{text-align:center; color:var(--muted);}
  </style>
</head>

<body>

  <header class="hero">
    <div class="hero-inner">
      <div class="logo">Método Bates</div>
      <h1 class="hero-title">Relaja tus ojos: enfoque natural para miopía y hipermetropía</h1>
      <p class="hero-sub">Proyecto educativo del colegio americano que busca dar a conocer técnicas de bienestar visual.</p>

      <nav class="navbar">
        <ul class="nav-links">
          <li><a href="#que-es">¿Qué es?</a></li>
          <li><a href="#ejercicios">Ejercicios</a></li>
          <li><a href="#resultados">Resultados</a></li>
          <li><a href="#fuentes">Fuentes</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="container">

    <section id="que-es" class="section">
      <h2>¿Qué es el Método Bates?</h2>
      <p>
        El <strong>Método Bates</strong> propone ejercicios de relajación y movimiento ocular que buscan reducir la tensión visual.
        Se busca utilizar como terapia complementaria en personas con errores refractivos, en este caso <strong>miopía</strong> o <strong>hipermetropía</strong>.
      </p>
    </section>

    <section id="ejercicios" class="section">
      <h2>Ejercicios principales</h2>

      <div class="cards">

        <!-- PALMEO -->
        <article class="card-ex">
          <h3>Palmeo</h3>
          <img src="https://uploads.onecompiler.io/43cd3qnf4/444v6a8xw/palmeo.gif.gif" alt="Palmeo" />
          <p>Técnica donde cubres los ojos con las palmas para lograr oscuridad total y relajar profundamente los músculos oculares. Reduce tensión visual y mental, favoreciendo una visión más clara.</p>
          <div class="controls">
            <input id="palTime" type="number" value="30" min="1">
            <button id="palStart" class="btn">Iniciar</button>
            <button id="palStop" class="btn secondary">Detener</button>
          </div>
          <div id="palDisplay">Listo para comenzar</div>
        </article>

        <!-- ASOLEO -->
        <article class="card-ex">
          <h3>Asoleo</h3>
          <img src="https://uploads.onecompiler.io/43cd3qnf4/444v6a8xw/sunning_final.gif.gif" alt="Asoleo" />
          <p>Consiste en recibir la luz del sol con los ojos cerrados para estimular suavemente el nervio óptico. Ayuda a relajar los ojos y disminuir la tensión.</p>
          <div class="controls">
            <input id="sunTime" type="number" value="8" min="1">
            <button id="sunStart" class="btn">Iniciar</button>
            <button id="sunStop" class="btn secondary">Detener</button>
          </div>
          <div id="sunDisplay">Precaución: no mirar al sol directamente.</div>
        </article>

        <!-- OSCILACIÓN -->
        <article class="card-ex">
          <h3>Oscilación del elefante</h3>
          <img src="https://uploads.onecompiler.io/43cd3qnf4/444v6a8xw/osc_elefante_comic_final.gif.gif" alt="Oscilación" />
          <p>Balanceo suave del cuerpo que relaja la mirada y enseña a los ojos a moverse sin esfuerzo.</p>
          <div class="controls">
            <button id="elefPlay" class="btn">Reproducir animación</button>
          </div>
        </article>

      </div>
    </section>

    <!-- RESULTADOS ESPERADOS (con slider funcional) -->
    <section id="resultados" class="section">
      <h2>Resultados esperados</h2>
      <p>Simulación didáctica: mueve la barra para ver la transición de más desenfoque a más nitidez (ilustrativo).</p>

      <!-- imagen base + control (slider cambia blur y scale de la imagen) -->
      <img id="resultImg" class="result-img" src="https://uploads.onecompiler.io/43cd3qnf4/444fy7enn/metodo-bates-mejorar-la-vision-erescambio.jpg" alt="Enfoque / Desenfoque">

      <div class="slider-row">
        <input id="effectRange" type="range" min="0" max="100" value="50" aria-label="Control efecto">
      </div>
    </section>

    <section id="fuentes" class="section">
      <h2>Referencias</h2>
      <ol>
        <li>Bates, W. H. (2006). *El método Bates para mejorar la visión sin gafas*.</li>
        <li>Clean Eyesight – Bates Method.</li>
        <li>De Federico, A. (2023). *Volver a Ver Claro*.</li>
        <li>Decreto 0825 de 1954 – Optometría en Colombia.</li>
      </ol>
    </section>

    <footer class="section">
      <p>Proyecto de grado — Método Bates. Elaborado por Pablo Esteban.</p>
    </footer>

  </div>

  <!-- Sonido para temporizadores -->
  <audio id="beep">
    <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg">
  </audio>

<script>
  // TIMERS
  let palTimer=null, sunTimer=null;
  const beep = document.getElementById('beep');

  // Palmeo
  palStart.onclick=()=>{
    clearInterval(palTimer);
    let t = parseInt(palTime.value,10) || 30;
    palDisplay.textContent = 'Tiempo: ' + t + ' s';
    palTimer = setInterval(()=>{
      t--;
      if(t <= 0){
        clearInterval(palTimer);
        palDisplay.textContent = 'Listo.';
        // play sound (try/catch to avoid autoplay block)
        try { beep.currentTime = 0; beep.play(); } catch(e) {}
      } else {
        palDisplay.textContent = 'Tiempo: ' + t + ' s';
      }
    },1000);
  };
  palStop.onclick=()=>{ clearInterval(palTimer); palDisplay.textContent='Detenido.'; };

  // Asoleo
  sunStart.onclick=()=>{
    clearInterval(sunTimer);
    let t = parseInt(sunTime.value,10) || 8;
    sunDisplay.textContent = 'Exposición: ' + t + ' s';
    sunTimer = setInterval(()=>{
      t--;
      if(t <= 0){
        clearInterval(sunTimer);
        sunDisplay.textContent = 'Ciclo completado.';
        try { beep.currentTime = 0; beep.play(); } catch(e) {}
      } else {
        sunDisplay.textContent = 'Exposición: ' + t + ' s';
      }
    },1000);
  };
  sunStop.onclick=()=>{ clearInterval(sunTimer); sunDisplay.textContent='Detenido.'; };

  // Oscilación
  elefPlay.onclick=()=>{
    elefPlay.closest('.card-ex').animate([
      {transform:'rotate(0deg)'},
      {transform:'rotate(2deg)'},
      {transform:'rotate(-2deg)'},
      {transform:'rotate(0deg)'}
    ],{duration:900});
  };

  // SLIDER (desenfoque -> nitidez)
  const effectRange = document.getElementById('effectRange');
  const resultImg = document.getElementById('resultImg');

  function updateEffect(v){
    // v: 0..100  -> blur 8px -> 0px and slight contrast/scale
    const blur = (100 - v) / 12; // ~8px max
    const contrast = 0.9 + (v/300);
    const scale = 1 + (v-50)/800;
    resultImg.style.filter = `blur(${blur}px) contrast(${contrast})`;
    resultImg.style.transform = `scale(${scale})`;
  }

  effectRange.addEventListener('input', ()=> updateEffect(effectRange.value));
  // init
  updateEffect(effectRange.value);

</script>

</body>
</html>
